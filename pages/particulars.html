<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>国美(GOME)-综合网购商城，正品低价、品质保障、快速送达、安心服务！</title>
    <link rel="SHORTCUT ICON" href="../images/Gome.ico">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../lib/swiper-bundle.min.css">
    <link rel="stylesheet" href="../css/particulars.css">
</head>
<body>
    <nav id="nav">
        <div class="container">
            <ul class="ulleft">
                <li><a class="me">国美会员<i id="xjt"></i></a></li>
                <li><a href="./login.html">登录</a></li>
                <li><a class="strong" href="./add.html" >注册有礼物</a></li>
            </ul>
            <ul class="ulright">
                <li><a href="javascrpit:;">我的订单</a></li>
                <li><a>我的国美</a></li>
                <li><a href="javascrpit:;">企业采购<i id="xjt"></i></a></li>
                <li><a href="javascrpit:;"><i id="serve"></i>服务中心<i id="xjt"></i></a></li>
                <li><a href="javascrpit:;">网站导航<i id="xjt"></i></a></li>
                <li><a href="javascrpit:;">手机国美<i id="xjt"></i></a></li>

            </ul>
        </div>
    </nav>
    <nav id="tab">
        <div class="container">
        <span>
            全部商品分类
            <ul class="left">
                <li><a href="#">手机</a><a href="#">充值</a></li>
                <li><a href="#">相机</a><a href="#">智能数码</a></li>
                <li><a href="#">电脑</a><a href="#">办公配件</a></li>
                <li><a href="#">电视</a><a href="#">影音</a><a href="#">智能</a></li>
                <li><a href="#">空调</a><a href="#">冰箱</a><a href="#">洗衣机</a></li>
                <li><a href="#">厨房卫浴</a><a href="#">生活电器</a><a href="#">环境</a></li>
                <li><a href="#">家具</a><a href="#">建材</a><a href="#">欧洲厨房</a></li>
                <li><a href="#">家居家纺</a><a href="#">家居家装</a></li>
                <li><a href="#">食品酒水</a><a href="#">母婴玩具</a></li>
                <li><a href="#">美妆个护</a></li>
                <li><a href="#">服饰鞋帽</a><a href="#">箱包奢品</a></li>
                <li><a href="#">运动户外</a><a href="#">钟表首饰</a></li>
                <li><a href="#">汽车整车</a><a href="#">汽车用品</a></li>
                <li><a href="#">国美金融</a></li>
                <li><a href="#">国美管家</a></li>
                <div class="newLI">
                   
                </div>
            </ul>
        </span>
        <ul>
            <li><a>发现</a></li>
            <li><a>真划算</a></li>
            <li><a>超市</a></li>
            <li><a>电器城</a></li>
            <li><a>汽车</a></li>
            <li><a>家居家装</a></li>
            <li><a>智能管家</a></li>
            <li><a>金融</a></li>
        </ul>
        <strong>政务信息查询</strong>
    </div>
    </nav>
    <header id="header">
        <div class="container">
            <h1><a href="./GomeIndex.html">国美</a></h1>
            <div id="box1">
            <div class="divCenter"><span>商品</span><input type="text" placeholder="手机" id="text"><input type="submit" id="sub" value="搜索">
                <ol class="divCenter-list">
                </ol>
        </div>
            
            <ul>
                <li><a href="#">苹果手机</a></li>
                <li><a href="#">海尔冰箱</a></li>
                <li><a href="#">美的洗衣机</a></li>
                <li><a href="#">格力空调</a></li>
                <li><a href="#">休闲零食</a></li>
                <li><a href="#">电热水器</a></li>
                <li><a href="#">电烤箱</a></li>
                <li><a href="#">火锅食材开店</a></li> 
            </ul>
            </div>
            <div id="cat">
                <a>我的购物车</a>
            </div>
        </div>
    </header>
    <section id="banners" class="container">
        <img src="https://gfs12.gomein.net.cn/T1YgAKBsVT1RCvBVdK.jpg" alt="">
    </section>
    <section id="main">
        <header>
            <ul class="container">
            </ul>
        </header>
        <nav>
            <div class="container">
            <ul> 
                <li><a>手机</a> <i></i></li>
                <li><a>手机通讯</a><i></i></li>
                <li><a>手机</a><i></i></li>
                <li><a>荣耀(HONOR)<i></i></a><i></i></li>
                <li><a>荣耀(honor)</a><i></i></li>
            </ul>
            <img src="../images/sc_03.png" alt="">
            </div>
        </nav>
        <div class="container">
            <section class="main-l">
                <div class="commodity">
                    <img src="https://gfs17.gomein.net.cn/T1GiD5ByDv1RCvBVdK_450.jpg" alt="">
                    <div class="box"></div>
                    <div class="warp"><img src="https://gfs17.gomein.net.cn/T1GiD5ByDv1RCvBVdK_450.jpg" alt=""></div>
                </div>
                <div class="btm">
                    <i class="zjt"></i>
                    <div>
                    <ul>

                    </ul>
                </div>
                    <i class="yjt"></i>
                </div>
                <div id="p">
                    <span> <i>商品编号:</i> <span>100625078</span></span>
                    <ul>
                        <li><a>分享</a></li>
                        <li><a>提心愿</a></li>
                        <li><a>收藏</a></li>
                    </ul>
                </div>
                
            </section>
            <section class="main-r">
                <h1>荣耀 (honor) 荣耀30青春版 6GB+128GB 全网通版幻夜黑</h1>
                <strong> <span>5G双模6.5英寸柔滑全速屏4000mAh大电池22.5W快充4800万高感光拍摄</span> 更多品牌优惠<span>5G爆款低价抢</span>点击参与</strong>
                <div class="price">
                   <i>抢&nbsp;&nbsp;&nbsp;&nbsp;购&nbsp;&nbsp;&nbsp;&nbsp;价</i> <strong>￥1899</strong> <a>降价通知</a> <span></span>
                </div>
                <p><i>特&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;色</i><img src="../images/tes_03.png" alt=""><img src="../images/tes_05.png" alt=""><img src="../images/tes_07.png" alt=""></p>
                <p><i>送&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;至</i><span>深圳市宝安区西乡街道<i></i> </span> <strong>有货</strong> 支持<span>免运费</span></p>
                <p><i>颜&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;色</i><span></span></p>
                <p><i>版&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;本</i></p>
                <P><i>延保服务</i><span>延长保1年￥89.0</span><span>碎屏+延长保1年￥248.0</span></P>
                <div class="btt"><div class="c"><span>1</span><div><p>+</p><p>-</p></div></div><span>加入购物车</span><span>到货通知</span></div>
            </section>
        </div>
    </section>
</body>
<script src="../lib/jquery.min.js"></script>
<script src="../js/general.js"></script>
<script>
    var locationIndex = location.href;
    locationIndex = locationIndex.split("?")[1].split("=")[1];
    if(getCookie("name")){
        $(".ulleft>li>.me").text(`Hi,${getCookie("name")}`)
    }
    $.ajax({
        url:"../lib/main.json",
        type:"GET",
        dataType:"json",
        success:function(res){
                console.log(res);
                if((res[locationIndex].price!="")){
                    $(".main-r>.price>strong").text(res[locationIndex].price[0]);
                }
                if(res[locationIndex].nav!=""){
                    $.each(res[locationIndex].nav,function(index,item){
                    $("#main>header>ul").append(`<li><a>${item}</a></li>`);
                })
                }
                $(".main-l>.commodity>img").attr("src",res[locationIndex].img[0][0]);
                $(".main-l>.commodity>.warp>img").attr("src",res[locationIndex].img[0][0]);
                $.each(res[locationIndex].img[0],function(index,item){
                    $(".main-l>.btm ul").append(`<li class="gros"><a><img src=${item} alt=""></a></li>`)
                })
                if(res[locationIndex].titleImg!=""){
                    $("#banners>img").attr("src",res[locationIndex].titleImg);
                }

                if(res[locationIndex].navs!=""){
                    $.each(res[locationIndex].navs,function(index,item){
                    $("#main>nav ul>li>a").eq(index).text(item);
                })
                }

                $(".main-r>h1").text(res[locationIndex].title[0]);
                $(".main-r>strong").text(res[locationIndex].activity)
                $(".main-r>.price>span").html(`<p>${res[locationIndex].limit[0]}</p>${res[locationIndex].limit[1]}`)
                $(".main-r>.price>strong>span>p").text(res[locationIndex].limit[1]);
                $("#p>span>span").text(res[locationIndex].serial)
                if(res[locationIndex].color==""){
                    $(".main-r>p:nth-of-type(3)").text("")
                }else{
                    $.each(res[locationIndex].color,function(index,item){
                    if(res[locationIndex].colorImg==""){
                        $(".main-r>p:nth-of-type(3)>span").append($(`<span>${item}</span>`));
                    }else{
                        $(".main-r>p:nth-of-type(3)>span").append($(`<span><img src=${res[locationIndex].colorImg[index]} alt="">${item}</span>`));
                    }
                });
                }
                
                if(res[locationIndex].versions!=""){
                    $.each(res[locationIndex].versions,function(index,item){
                    $(".main-r>p:nth-of-type(4)").append($(`<span>${item}</span>`))
                    })
                }else{
                    $(".main-r>p:nth-of-type(4)").empty();
                        // $.each($(".main-r>p:nth-of-type(3)>span"),function(i,t){
                        //     $(".main-r>p:nth-of-type(3)>span").eq(i).click(function(){
                        //         $(".main-r>.price>strong").text(res.price[i]);
                        //     })
                        // })    
                }
                $(".main-r>p:nth-of-type(3)>span>span").eq(0).addClass("color");
                $(".main-r>p:nth-of-type(3)>span>span").click(function(){
                $(".main-r>p:nth-of-type(3)>span>span").removeClass("color")
                .css({
                    border:"#e6e6e6 1px solid"
                })
                $(this).addClass("color")
                .css({
                    border:"#e3101e 1px solid"
                })
                if(res[locationIndex].versions==""){
                    $(".main-r>.price>strong").text(res[locationIndex].price[$(this).index()])
                }
                $(".btm ul").empty();
               $.each(res[locationIndex].img[$(this).index()],function(index,item){
                $(".btm ul").append($(`<li class="gros"><a><img src=${item} alt=""></a></li>`));
               }) 
               $(".commodity>img").attr("src",res[locationIndex].img[$(this).index()][0]);
                $(".main-r>h1").text(`${res[locationIndex].title[$(this).index()]}`);
                    // 每一次变化的改变
                    $(".btm ul>li").mouseenter(function(){
                        $(".btm ul>li").css({
                            border:"0"
                    })
                    $(".btm ul>li").eq($(this).index()).css({
                        border:" 1px solid #e3101e"
                    })
                    var str = $(".btm ul>li>a>img").eq($(this).index()).attr("src");
                        $(".commodity>img").attr("src",str);
                        $(".commodity>.warp>img").attr("src",str);
                    })
                    $(".btm>.zjt").click(function(){
                        if($(this).css("left")==0){
                            return
                        }
                        $($(".main-l>.btm ul")).css({
                            left:0
                        })
                    })
                })
                $(".main-r>p:nth-of-type(4)>span").eq(0).addClass("strg")
                $(".main-r>p:nth-of-type(4)>span").click(function(){
                    $(".strg")
                    .css({
                        border: "1px solid #e6e6e6",
                    })
                    $(".main-r>p:nth-of-type(4)>span").removeClass("strg").removeData("falg")
                    $(this).data("falg",true)
                    .addClass("strg");
                    $(".strg").css({
                        border:"1px solid #e3101e"

                    })
                    if($(".main-r>p:nth-of-type(4)>span").eq(0).hasClass("strg")){
                        $(".main-r>.price>strong").text(res[locationIndex].price[0]);
                    }else if($(".main-r>p:nth-of-type(4)>span").eq(1).hasClass("strg")){
                        $(".main-r>.price>strong").text(res[locationIndex].price[1]);
                    }
                })
                $(".btm ul>li").mouseenter(function(){
                    $(".btm ul>li").css({
                        border:"0"
                    })
                    $(".btm ul>li").eq($(this).index()).css({
                        border:" 1px solid #e3101e"
                    })
                    var str = $(".btm ul>li>a>img").eq($(this).index()).attr("src");
                    $(".commodity>img").attr("src",str);
                    $(".commodity>.warp>img").attr("src",str);
                    })
                $(".btm>.zjt").click(function(){
                        if($(this).css("left")==0){
                            return
                        }
                        $($(".main-l>.btm ul")).css({
                            left:0
                        })
                    })

                $.each($(".main-r>p:nth-of-type(4)>span"),function(i,t){
                $(".main-r>p:nth-of-type(4)>span").eq(i).click(function(){
                    $(".main-r>p:nth-of-type(4)>span").css({
                        border: "1px solid #e6e6e6",
                    })
                    $(this).css({
                        border:"1px solid #e3101e"
                    })
                    $(".main-r>.price>strong").text(res[locationIndex].price[i]);
                })
            })
        }
    })

    $(".btt>span:nth-of-type(1)").click(function(){
        console.log($(".main-l>.commodity>img").attr("src"));
        var master = getCookie("name");
        $.ajax({
            url:"../interface/addwq.php",
            type:"POST",
            dataType:"json",
            data:{
                name:$(".main-r>h1").text(),
                price:$(".main-r>.price>strong").text(),
                color:$(".color").text(),
                versions:$(".strg").text(),
                num:$(".c>span").text(),
                img:$(".main-l>.commodity>img").attr("src"),
                master:master,
                id:$("#p>span>span").text()
            },
            success:function(res){
                console.log(res);
                if(res.code==1){
                alert("加入成功")
             }
            }
        })
    })
    $(".c>div>p").click(function(){
        var num = $(".c>span").text()
        if($(this).index()==1){
            if($(".c>span").text()>1){
                num--;
                $(".c>span").text(num);
            }
        }else if($(this).index()==0){
                num++;
                $(".c>span").text(num);
            
        }

    })

    $("#tab>div>span").eq(0).mouseenter(function(){
        $("#tab>div>span>.left").css({
            display:"block"
        })
    })
    $(".left").mouseenter(function(){
        $("#tab>div>span>.left").css({
            display:"block"
        })
    })
    $(".left>.newLI").mouseenter(function(){
        $("#tab>div>span>.left").css({
            display:"block"
        })
    })


    $("#tab>div>span").eq(0).mouseleave(function(){
        $("#tab>div>span>.left").css({
            display:"none"
        })
    })
    $(".left").mouseleave(function(){
        $("#tab>div>span>.left").css({
            display:"none"
        })
    })
    $(".left>.newLI").mouseleave(function(){
        $("#tab>div>span>.left").css({
            display:"none"
        })
    })
    $('.main-l>.commodity').mouseenter(function(){
        $('.main-l>.commodity>.box').css("display","block");
        $('.main-l>.commodity>.warp').css("display","block");
    })
    $('.main-l>.commodity').mouseleave(function(){
        $('.main-l>.commodity>.box').css("display","none");
        $('.main-l>.commodity>.warp').css("display","none");
        
    })
    $('.main-l>.commodity').mousemove(function(e){
        var oleft = e.pageX - $('.main-l>.commodity').offset().left -  $('.main-l>.commodity>.box').width()/2;
        var otp = e.pageY - $('.main-l>.commodity').offset().top -  ($('.main-l>.commodity>.box').height()/2);
        if(oleft<=0){
            oleft=0
        }else if(oleft>=$('.main-l>.commodity').width()-$('.main-l>.commodity>.box').width()){
            oleft = $('.main-l>.commodity').width()-$('.main-l>.commodity>.box').width()
        }
        if(otp<=0){
            otp=0
        }else if(otp>=$('.main-l>.commodity').height()-$('.main-l>.commodity>.box').height()){
            otp = $('.main-l>.commodity').height()-$('.main-l>.commodity>.box').height()
        }
        
        $('.main-l>.commodity>.box').css({
            left:oleft,
            top:otp
        })
        $('.main-l>.commodity>.warp>img').css({
            left:(-2*oleft),
            top:(-2*otp)
        })
    })
    var arr = ["https://gfs17.gomein.net.cn/T1GiD5ByDv1RCvBVdK_60.jpg","https://gfs12.gomein.net.cn/T1XfK5B_KT1RCvBVdK_60.jpg","https://gfs11.gomein.net.cn/T1ZDV5Byb_1RCvBVdK_60.jpg","https://gfs13.gomein.net.cn/T1Z_V5ByC_1RCvBVdK_60.jpg","https://gfs12.gomein.net.cn/T14i_5BT_T1RCvBVdK_60.jpg","https://gfs12.gomein.net.cn/T14i_5BT_T1RCvBVdK_60.jpg","https://gfs11.gomein.net.cn/T1ZuA5BmhT1RCvBVdK_60.jpg","https://gfs13.gomein.net.cn/T1uiL5BCDT1RCvBVdK_60.jpg","https://gfs10.gomein.net.cn/T1sid5ByAv1RCvBVdK_60.jpg"];
    
    $(".btm>.yjt").click(function(){
        if($(this).css("left")=="-425px"){
            return
        }
        $($(".main-l>.btm ul")).css({
            left:-425
        })
    })
    

    
</script>
</html>


